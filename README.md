# TeleServer

This is a prototype of a telemetry server for a solar car, capable of displaying
a simplified dashboard on a phone or a more complete dashboard on a laptop or
tablet.

At minimum you must supply `-fake`, `-serial`, or `-can_addr` as a data source.

## Installation
1. Install the most recent version of go from http://golang.org/doc/install
2. Create your $GOPATH with `mkdir $HOME/go && export GOPATH=$HOME/go` (http://golang.org/doc/code.html)
3. Run `go get github.com/calsol/teleserver` to fetch the binary
4. Run the binary (`$GOPATH/bin/teleserver -serial /dev/tty`)
5. Navigate to http://localhost:8080

After changing any files in the /public directory, be sure to run
 `go-bindata -o embedded/assets.go -pkg embedded public/...`. This will
  update the resources embedded in the the binary.

To install go-bindata, run `go get github.com/jteeuwen/go-bindata/...`

### Flags
* `-port`: Port for the webserver. Default is 8080.
* `-serial`: Port for the serial uart connection.
* `-baud`: Baud rate for the serial port. Default is 115200.
* `-can_addr`: Port for SocketCAN.
* `-fake`: Ignore ports, serve fake data.
* `-can_log_file`: Log all CAN messages to a file with this prefix (can include
  filepath). "_YYYY-MM-DD_HH:MM:SS" is added as a suffix. Default prefix is "_tmp".
* `-alsologto`: In addition to logging general messages to stdout, log them to
  this file. Default is to only log to stdout.
* `-use_embedded`: Serve the files generated by go-bindata instead of directly
  from /public. This allows the binary to be standalone. Default is false.
